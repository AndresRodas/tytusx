<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>XPath</title>
    <link href="../styles/styleIde.css" rel="stylesheet"/>
    <script src="../../errores/TokenError.js"></script>
    <script src="../../errores/ListaErrores.js"></script>
    <script src="../../errores/CrearError.js"></script>
    <script src="../../reportes/ReporteGramatical.js"></script>

    <script src="../../ejecucion/xpath/ast/expresion/Expresion.js"></script>
    <script src="../../ejecucion/xpath/ast/expresion/aritmetica/Division.js"></script>
    <script src="../../ejecucion/xpath/ast/expresion/aritmetica/Modulo.js"></script>
    <script src="../../ejecucion/xpath/ast/expresion/aritmetica/Multiplicacion.js"></script>
    <script src="../../ejecucion/xpath/ast/expresion/aritmetica/Resta.js"></script>
    <script src="../../ejecucion/xpath/ast/expresion/aritmetica/Suma.js"></script>
    <script src="../../ejecucion/xpath/ast/expresion/logica/AndLogica.js"></script>
    <script src="../../ejecucion/xpath/ast/expresion/logica/OrLogica.js"></script>
    <script src="../../ejecucion/xpath/ast/expresion/relacional/RelationalOperators.js"></script>
    <script src="../../ejecucion/xpath/ast/expresion/relacional/Comparison.js"></script>
    <script src="../../ejecucion/xpath/ast/expresion/relacional/Relational.js"></script>
    <script src="../../ejecucion/xpath/ast/expresion/axe_expresion/root_axe/AxeType.js"></script>
    <script src="../../ejecucion/xpath/ast/expresion/axe_expresion/root_axe/Ancestor.js"></script>
    <script src="../../ejecucion/xpath/ast/expresion/axe_expresion/root_axe/Atribute.js"></script>
    <script src="../../ejecucion/xpath/ast/expresion/axe_expresion/root_axe/Child.js"></script>
    <script src="../../ejecucion/xpath/ast/expresion/axe_expresion/root_axe/Descendant.js"></script>
    <script src="../../ejecucion/xpath/ast/expresion/axe_expresion/root_axe/Following.js"></script>
    <script src="../../ejecucion/xpath/ast/expresion/axe_expresion/root_axe/Parent.js"></script>
    <script src="../../ejecucion/xpath/ast/expresion/axe_expresion/root_axe/Preceding.js"></script>
    <script src="../../ejecucion/xpath/ast/expresion/axe_expresion/root_axe/Self.js"></script>
    <script src="../../ejecucion/xpath/ast/expresion/axe_expresion/root_axe/AxeFabric.js"></script>
    <script src="../../ejecucion/xpath/ast/expresion/axe_expresion/any_axe/AnyAncestor.js"></script>
    <script src="../../ejecucion/xpath/ast/expresion/axe_expresion/any_axe/AnyAxeAtribute.js"></script>
    <script src="../../ejecucion/xpath/ast/expresion/axe_expresion/any_axe/AnyChild.js"></script>
    <script src="../../ejecucion/xpath/ast/expresion/axe_expresion/any_axe/AnyDescendant.js"></script>
    <script src="../../ejecucion/xpath/ast/expresion/axe_expresion/any_axe/AnyFollowing.js"></script>
    <script src="../../ejecucion/xpath/ast/expresion/axe_expresion/any_axe/AnyAxeParent.js"></script>
    <script src="../../ejecucion/xpath/ast/expresion/axe_expresion/any_axe/AnyPreceding.js"></script>
    <script src="../../ejecucion/xpath/ast/expresion/axe_expresion/any_axe/AnySelf.js"></script>
    <script src="../../ejecucion/xpath/ast/expresion/axe_expresion/any_axe/AnyAxeFabric.js"></script>
    <script src="../../ejecucion/xpath/ast/expresion/native_function/NativeFunction.js"></script>
    <script src="../../ejecucion/xpath/ast/expresion/primitive/Primitive.js"></script>
    <script src="../../ejecucion/xpath/ast/expresion/xpath_expresion/AnyExpresion/AnyCurrent.js"></script>
    <script src="../../ejecucion/xpath/ast/expresion/xpath_expresion/AnyExpresion/AnyIdentifier.js"></script>
    <script src="../../ejecucion/xpath/ast/expresion/xpath_expresion/AnyExpresion/AnyNode.js"></script>
    <script src="../../ejecucion/xpath/ast/expresion/xpath_expresion/AnyExpresion/AnyParent.js"></script>
    <script src="../../ejecucion/xpath/ast/expresion/xpath_expresion/AnyExpresion/AnyText.js"></script>
    <script src="../../ejecucion/xpath/ast/expresion/xpath_expresion/AnyExpresion/AnyTimes.js"></script>
    <script src="../../ejecucion/xpath/ast/expresion/xpath_expresion/AnyExpresion/AnyAtributeIdentifier.js"></script>
    <script src="../../ejecucion/xpath/ast/expresion/xpath_expresion/AnyExpresion/AnyAtributeTimes.js"></script>
    <script src="../../ejecucion/xpath/ast/expresion/xpath_expresion/RootExpresion/RootCurrent.js"></script>
    <script src="../../ejecucion/xpath/ast/expresion/xpath_expresion/RootExpresion/RootIdentifier.js"></script>
    <script src="../../ejecucion/xpath/ast/expresion/xpath_expresion/RootExpresion/RootNode.js"></script>
    <script src="../../ejecucion/xpath/ast/expresion/xpath_expresion/RootExpresion/RootParent.js"></script>
    <script src="../../ejecucion/xpath/ast/expresion/xpath_expresion/RootExpresion/RootText.js"></script>
    <script src="../../ejecucion/xpath/ast/expresion/xpath_expresion/RootExpresion/RootTimes.js"></script>
    <script src="../../ejecucion/xpath/ast/expresion/xpath_expresion/RootExpresion/RootAtributeIdentifier.js"></script>
    <script src="../../ejecucion/xpath/ast/expresion/xpath_expresion/RootExpresion/RootAtributeTimes.js"></script>
    <script src="../../ejecucion/xpath/ast/expresion/xpath_expresion/ListaXpathExpresion.js"></script>
    <script src="../../ejecucion/xpath/ast/expresion/xpath_expresion/XpathExpresion.js"></script>
    <script src="../../ejecucion/xpath/ast/expresion/PredicateExpresion.js"></script>
    <script src="../../ejecucion/xpath/ast/expresion/NodoError.js"></script>
    <script src="../js/ide.js"></script>
    <script src="../js/jquery-3.4.1.min.js"></script>
    <script src="../../gramaticas/xml/xmlAnalyzer.js"></script>
    <script src="../../gramaticas/xml/xmlAnalyzerAst.js"></script>
    <script src="../../gramaticas/xml/xmlAnalyzerTopdown.js"></script>
    <script src="../../ejecucion/xml/ast/XmlObjectInt.js"></script>
    <script src="../../ejecucion/xml/ast/XmlObjectAncestor.js"></script>
    <script src="../../ejecucion/xml/ast/xmlObjects/XmlAttribute.js"></script>
    <script src="../../ejecucion/xml/ast/xmlObjects/XmlContent.js"></script>
    <script src="../../ejecucion/xml/ast/xmlObjects/XmlElement.js"></script>
    <script src="../../ejecucion/xml/ast/xmlObjects/XmlRoot.js"></script>
    <script src="../../ejecucion/TsRow.js"></script>
    <script src="../../ejecucion/TsRowAttribute.js"></script>
    <script src="../../ejecucion/TablaSimbolos.js"></script>
    <script src="../../gramaticas/xpath/XpathAnalyzer.js"></script>
    <script src="../../gramaticas/xpath/XpathAnalyzerDescendant.js"></script>
    <script src="../../ejecucion/Tipo.js"></script>
    <script src="../../utils/XpathUtil.js"></script>
    <!--

    -->
    <!-- VARIABLES GLOBALES -->
    <script type="text/javascript">
    </script>
</head>
<body background="../images/fondo-azul.jpg">


<table class="tablaEntradas" align="center">
    <tr align="center">
        <td>
            <div id="divEntradaXML" align="center">
                <textarea id="txtEntradaXML" cols="80" rows="28" style="background-color:#CCC;font-style:italic">


<catalog>
   <book id="bk101">
      <author>Gámbardellä, Mátthew</author>
      <title>XML Developer&apos;s Guide</title>
      <genre>Computer</genre>
      <price>44.95</price>
      <publish_date>2000-10-01</publish_date>
      <description>An in-depth look at creating applications
      with XML.</description>
   </book>
   <book id="bk102">
      <author>Ralls, Kim</author>
      <title>Midnight Rain</title>
      <genre>Fantasy</genre>
      <price>5.95</price>
      <publish_date>2000-12-16</publish_date>
      <description>A former architect battles corporate zombies,
      an evil sorceress, and her own childhood to become queen
      of the world.</description>
   </book>
   <book id="bk103">
      <author>Corets, Eva</author>
      <title>Maeve Ascendant</title>
      <genre>Fantasy</genre>
      <price>5.95</price>
      <publish_date>2000-11-17</publish_date>
      <description>After the collapse of a nanotechnology
      society in England, the young survivors lay the
      foundation for a new society.</description>
   </book>
   <book id="bk104">
      <author>Corets, Eva</author>
      <title>Oberon's Legacy</title>
      <genre>Fantasy</genre>
      <price>5.95</price>
      <publish_date>2001-03-10</publish_date>
      <description>In post-apocalypse England, the mysterious
      agent known only as Oberon helps to create a new life
      for the inhabitants of London. Sequel to Maeve
      Ascendant.</description>
   </book>
   <book id="bk105">
      <author>Corets, Eva</author>
      <title>The Sundered Grail</title>
      <genre top="cali">Fantasy</genre>
      <price>5.95</price>
      <publish_date>2001-09-10</publish_date>
      <description>The two daughters of Maeve, half-sisters,
      battle one another for control of England. Sequel to
      Oberon's Legacy.</description>
   </book>
   <book id="bk106">
      <author>Randall, Cynthia</author>
      <title>Lover Birds</title>
      <genre top="cali">Romance</genre>
      <price>4.95</price>
      <publish_date>2000-09-02</publish_date>
      <description>When Carla meets Paul at an ornithology
      conference, tempers fly as feathers get ruffled.</description>
   </book>
   <book id="bk107">
      <author>Thurman, Paula</author>
      <title>Splish Splash</title>
      <genre>Romance</genre>
      <price>4.95</price>
      <publish_date>2000-11-02</publish_date>
      <description>A deep sea diver finds true love twenty
      thousand leagues beneath the sea.</description>
   </book>
   <book id="bk108">
      <author>Knorr, Stefan</author>
      <title>Creepy Crawlies</title>
      <genre>Horror</genre>
      <price>4.95</price>
      <publish_date>2000-12-06</publish_date>
      <description>An anthology of horror stories about roaches,
      centipedes, scorpions  and other insects.</description>
   </book>
   <book id="bk109">
      <author>Kress, Peter</author>
      <title>Paradox Lost</title>
      <genre>Science Fiction</genre>
      <price>6.95</price>
      <publish_date>2000-11-02</publish_date>
      <description>After an inadvertant trip through a Heisenberg
      Uncertainty Device, James Salway discovers the problems
      of being quantum.</description>
   </book>
   <book id="bk110">
      <author>O'Brien, Tim</author>
      <title>Microsoft .NET: The Programming Bible</title>
      <genre top="cali">Computer</genre>
      <price>36.95</price>
      <publish_date>2000-12-09</publish_date>
      <description>Microsoft's .NET initiative is explored in
      detail in this deep programmer's reference.</description>
   </book>
   <book id="bk111">
      <author>O'Brien, Tim</author>
      <title>MSXML3: A Comprehensive Guide</title>
      <genre>Computer</genre>
      <price>36.95</price>
      <publish_date>2000-12-01</publish_date>
      <description>The Microsoft MSXML3 parser is covered in
      detail, with attention to XML DOM interfaces, XSLT processing,
      SAX and more.</description>
   </book>
   <book id="bk112">
      <author>Galos, Mike</author>
      <title>Visual Studio 7: A Comprehensive Guide</title>
      <genre>Computer</genre>
      <price>49.95</price>
      <publish_date cali="hola">2001-04-16</publish_date>
      <description>Microsoft Visual Studio 7 is explored in depth,
      looking at how Visual Basic, Visual C++, C#, and ASP+ are
      integrated into a comprehensive development
      environment.</description>
   </book>
</catalog>
                </textarea>
            </div>

        </td>
        <td>
            <div id="divEntradaXPath" align="center" >
                <textarea id="txtEntradaXPath"  cols="80" rows="28" style="background-color:#CCC;font-style:italic" >
/catalog/book/author[position()]
                </textarea>
            </div>
        </td>
    </tr>
</table>


<div id="divBotones" align="center" >
    <button id="btnAnalizarXML" class="button">Analizar XML</button>
    <button id="btnAnalizarXMLDescendente" class="button">Analizar XML TD</button>
    <button id="btnRGXML" class="button">Reporte G. XML</button>
    <button id="btnTablaSimbolos" class="button">Ver Tabla Simbolos</button>
    <button id="btnTablaErroresXML" class="button">Errores XML</button>
    <button id="btnAnalizarXPATH" class="button">Analizar XPATH</button>
    <button id="btnAnalizarXPATHDescendente" class="button">Analizar XPATH TD</button>
    <button id="btnRGXPath" class="button">Reporte G. Xpath</button>
    <button id="btnTablaErroresXPath" class="button">Errores XPath</button>
</div>
<div  id="divBotones2" align="center" >
    <button id="btnEjecutar" class="button">Ejecutar código</button>
    <button id="btnGraficarAstXmlAscendente" class="button">Graficar AST XML Ascendente</button>
    <button id="btnGraficarCstXmlAscendente" class="button">Graficar CST XML Ascendente</button>
    <button id="btnGraficarAstXmlDescendente" class="button">Graficar AST Descendente</button>
    <button id="btnGraficarCstXmlDescendente" class="button">Graficar CST Descendente</button>
    <button id="btnLimpiarConsola" class="button">Limpiar Consola</button>
</div>

<div id="consola" align="center">
<textarea id="txtConsola" disabled="disabled" cols="175" rows="10" style="background-color:#000000;font-style:inherit;color: chartreuse">
</textarea>
</div>
    <script type="text/javascript">
        /**
         * Metodos del Front
         */
        $(document).ready(function(){

            //PASAMOS EL OBJETO DE CONSOLA
            _txtConsola = $("#txtConsola");
            $("#txtConsola").val(CONSOLE_LINE_MARK);
            /**
            * Ejecucion
            * */
            $("#btnEjecutar").click(function(){
                entradaXml   = $("#txtEntradaXML").val();
                entradaXpath = $("#txtEntradaXPath").val();
                ejecutar(entradaXml,entradaXpath);
            });
            /**
             * AnalizarXML
             */
            $("#btnAnalizarXML").click(function(){
                entrada = $("#txtEntradaXML").val();
                analizarXML(entrada);
            });


            /**
             * ArbolAST
             */
            $("#btnGraficarAstXmlAscendente").click(function(){
                entrada = $("#txtEntradaXML").val();
                generarAstAscennteXml(entrada);
            });

            /**
             * Reporte gramtical xml
             */

            $("#btnRGXML").click(function(){

                print("Renderizando Reporte gramtical.  "+new Date());
                if(ReporteGramatical._reporteXML==undefined){
                    print("No existen datos para reporte gramatical xml");
                    return;
                }
                XpathUtil.printTabHtml(ReporteGramatical.getHtmlTableXml());
                print("Reporte gramatical XML OK");


            });


            /**
             * AnalizarXPATH
             */
            $("#btnAnalizarXPATH").click(function(){
                entrada = $("#txtEntradaXPath").val();
                analizarXPATH(entrada);
            });

            /**
             * AnalizarXPATHDescendente
             */
            $("#btnAnalizarXPATHDescendente").click(function(){
                entrada = $("#txtEntradaXPath").val();
                analizarXPATHDescendente(entrada);
            });

            /**
             * Reporte gramtical XPath
             */

            $("#btnRGXPath").click(function(){

                print("Renderizando Reporte gramtical.  "+new Date());
                if(ReporteGramatical._reporteXpath==undefined){
                    print("No existen datos para reporte gramatical XPath");
                    return;
                }
                XpathUtil.printTabHtml(ReporteGramatical.getHtmlTableXPath());
                print("Reporte gramatical XPath OK");


            });



            /**
             * Ejecutar código
             */
            $("#btnGenerar").click(function(){
                entrada = $("#txtEntradaXML").val();
                ejecutar(entrada);
            });


            /**
             * AnalizarXML
             */
            $("#btnGraficarCstXmlAscendente").click(function(){
                entrada = $("#txtEntradaXML").val();
                generarCstXMLAscendnete(entrada);
            });



            /**
             * AnalizarXML
             */
            $("#btnGraficarCstXmlDescendente").click(function(){
                entrada = $("#txtEntradaXML").val();
                generarCstXMLDescendente(entrada);
            });


            /**
             * AnalizarXML
             */
            $("#btnGraficarAstXmlDescendente").click(function(){
                entrada = $("#txtEntradaXML").val();
                generarCstXMLAscendnete(entrada);
            });

            /**
             * Ver Tabla de Simbolos
             */
            $("#btnTablaSimbolos").click(function(){
                print("Renderizando tabla de Simbolos.  "+new Date());
                if(_tsXml==undefined || _tsXml == null){
                    print("No hay tabla de simbolos que mostrar. ");
                    return;
                }
                XpathUtil.printTabHtml(_tsXml.getHtmlTable());
                print("OK");
            });

            /**
             * Ver Tabla Errores XML
             */
            $("#btnTablaErroresXML").click(function(){
                print("Renderizando tabla de errores XML.  "+new Date());
                if(ListaErrores==undefined){
                    print("No hay tabla de errores que mostrar. ");
                    return;
                }
                XpathUtil.printTabHtml(ListaErrores.getHtmlTableXml());
                print("Tabla Errores XML OK");
            });


            /**
             * Ver Tabla Errores XPath
             */
            $("#btnTablaErroresXPath").click(function(){
                print("Renderizando tabla de errores XPath.  "+new Date());
                if(ListaErrores==undefined){
                    print("No hay tabla de errores que mostrar. ");
                    return;
                }
                XpathUtil.printTabHtml(ListaErrores.getHtmlTableXPath());
                print("Tabla Errores XPath OK");
            });

            /**
             * Limpiar Consola
             */
            $("#btnLimpiarConsola").click(function(){
                $("#txtConsola").val(CONSOLE_LINE_MARK);
            });



        });
    </script>
</body>
</html>